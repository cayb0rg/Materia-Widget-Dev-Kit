<link rel="stylesheet" href="/mwdk/assets/css/mwdk-player.css" type="text/css" />
<link rel="stylesheet" href="/mwdk/assets/css/mwdk-download.css" type="text/css" />
<link href='//fonts.googleapis.com/css?family=Lato:300,400,700|Droid+Sans+Mono' rel='stylesheet' type='text/css'>
<link rel='stylesheet' href='/mwdk/assets/css/mwdk-main.css' type='text/css' />
<link rel="stylesheet" href="/mwdk/mwdk-assets/css/scores.css" type="text/css" />

<script type="text/javascript" src="/mwdk/mwdk-assets/materia.enginecore.js"></script>
<script type="text/javascript" src="/mwdk/mwdk-assets/materia.scorecore.js"></script>
<script src="/mwdk/mwdk-assets/js/mwdk-package.js"></script>

<script >
	var PLAY_ID = '{{ instance }}';
	var DEMO_ID = 'demo';
	var WIDGET_HEIGHT = '600';
	var WIDGET_WIDTH = '800';
    var WIDGET_URL = 'http://localhost:{{ port }}/'
	var BASE_URL = '/mwdk/'
	var API_LINK = '/api/json/'
	var WIDGET_URL = '/'
	var MEDIA_URL = '/mwdk/media'
	var STATIC_CROSSDOMAIN = 'http://localhost:{{ port }}/'
    var LAUNCH_TOKEN = '{{ instance }}'
    var IS_EMBEDDED = 'false'
    var IS_PREVIEW = '{{ IS_PREVIEW }}'
</script>

<div id="topbar">
	<a class="logo" href="/">Materia Widget Developer Kit</a>
	<div class="tools">
		<button class="edit_button orange" onclick="MWDK.Package.showCreator();">Creator</button>
		<button id="downloadLink" class="edit_button orange" onclick="MWDK.Package.showPackageDownload();">Download Package</button>
	</div>
</div>

<div id="warning">
    <h2>MWDK DISCLAIMER</h2>
    <p>There is no support for <code>score_module</code> in the Materia Widget Development Kit, so scoring will not be accurate. Please install the widget in Materia to test the score_module.</p>
    <p>If you have finished the score_module, you may upload a JSON file containing sample play score data to design your custom <code>scorescreen.html</code>. <i id="how-do-i" onclick="MWDK.Package.toggleJSONInstructions();">How do I find the score data?</i></p>
	<div class="json-instructions">
		<ol>
			<li>Make sure Materia is running</li>
			<li>Click <strong>Download Package</strong> and <strong>Install to Docker Materia</strong></li>
			<li>Go to your widget's page in Materia (you can find it in Catalog)</li>
			<li>Open your browser's developer tools (<code>Command + Option + i</code> on Mac, <code>Ctrl + Shift + i</code> on Windows) and go to the Network tab.</li>
			<li>Play the widget until you reach the scorescreen.</li>
			<li>Once you've reached the scorescreen, look for a request to <code>widget_instance_play_scores_get</code> and click it.</li>
			<li>Go to the Response tab, right click on the JSON object, and click <code>Copy All</code>. Alternatively, right click on the request and click Copy Value -> Copy Response.</li>
			<li>Create a JSON file on your computer and paste the JSON object.</li>
			<li>Upload the file here.</li>
		</ol>
	</div>
	<label for="fileUpload">JSON File</label>
	<input id="fileUpload" type="file"/>
	<button onclick="MWDK.Package.uploadScoreData();">Upload</button>
	</br>
	<label for="fileUpload">Remove sample play score data</label>
	<button onclick="MWDK.Package.removeScoreData();">Remove Sample Play Score Data</button>
	</br>
	<label for="fileUpload">Remove play logs</label>
	<button onclick="MWDK.Package.removePlayLogs();">Remove Play Logs</button>
	<p id="message"></p>
</div>

<div id="app"></div>
<div id='modalbg'></div>

<script src="/mwdk/mwdk-assets/scores.js"></script>